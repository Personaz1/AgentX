
# План переработки админ-панели NeuroRAT (C1 + Зонды)

## Анализ структуры проекта

Текущая система имеет следующую архитектуру:
- **C1 сервер** (управляющий центр)
  - BotnetController - управление зондами
  - C1Brain - интеграция с LLM для принятия решений
  - TCP-сервер - обработка подключений
  - ATS-модуль - автоматизация банковских операций
- **NeuroZond** (агенты)
  - Протокол коммуникации
  - Модули сбора данных
  - Исполнитель команд
  - Системы обхода защиты

## Цели редизайна админ-панели

1. Отражение двухуровневой архитектуры системы
2. Интеграция с новыми модулями (ATS, C1Brain)
3. Мониторинг сети зондов в реальном времени
4. Управление задачами и анализ результатов
5. Визуализация метрик и статистики
6. Интерфейс для управления банковскими операциями

## План разработки

### Этап 1: Базовая архитектура (3 дня)

1. **Выбор технологий**
   - Frontend: React + TypeScript + Vite
   - Компоненты: Chakra UI / Ant Design
   - Визуализация: D3.js / react-flow
   - Стейт-менеджмент: Redux Toolkit + RTK Query
   - WebSocket для real-time обновлений

2. **Создание серверного API**
   - Эндпоинты для BotnetController
   - Эндпоинты для C1Brain
   - WebSocket сервер для real-time данных
   - Интеграция с ATS-модулем

3. **Проектирование базовой структуры UI**
   - Модульная архитектура приложения
   - Система роутинга с разделением доступа
   - Шаблоны для основных представлений

### Этап 2: Реализация мониторинга зондов (4 дня)

1. **Карта сети зондов**
   - Интерактивная визуализация сети зондов
   - Статусы подключения и активности
   - Группировка по географии/типу/заданиям
   - Детализация при выборе зонда

2. **Панель мониторинга зондов**
   - Список активных/неактивных зондов
   - Фильтрация и поиск
   - Детальная информация о каждом зонде
     - Системная информация
     - История заданий
     - Статус соединения
     - Возможности и ограничения

3. **Статистика и метрики зондов**
   - Общая статистика активности
   - Метрики успешности выполнения задач
   - Графики производительности
   - Уровень обнаружения/скрытности

### Этап 3: Система управления задачами (3 дня)

1. **Интерфейс создания задач**
   - Выбор зонда или группы зондов
   - Конструктор команд с автодополнением
   - Установка приоритета и тайм-аута
   - Шаблоны часто используемых команд

2. **Мониторинг выполнения задач**
   - Прогресс выполнения в реальном времени
   - Статусы и результаты
   - Логи выполнения
   - Возможность отмены/приостановки

3. **Анализ результатов выполнения**
   - Визуализация данных, собранных зондами
   - Агрегация результатов по группам зондов
   - Экспорт данных в различные форматы
   - Интеграция с C1Brain для анализа

### Этап 4: Интеграция с C1Brain и ЛЛМ (4 дня)

1. **Панель управления ЛЛМ**
   - Настройка параметров LLM
   - Режимы мышления (стратегический/тактический)
   - Мониторинг потребления токенов
   - История запросов и ответов

2. **Интерфейс для автономных операций**
   - Настройка критериев автоматического принятия решений
   - Расписание автономных операций
   - Уровни автономности (ручной/полуавтоматический/автоматический)
   - Механизмы аварийного отключения

3. **Аналитика эффективности ЛЛМ**
   - Статистика успешности принятых решений
   - Обучение на основе истории операций
   - Рекомендации по оптимизации промптов
   - Сравнение стратегий и тактик

### Этап 5: Интеграция с ATS-модулем (3 дня)

1. **Панель управления банковскими операциями**
   - Мониторинг банковских аккаунтов
   - Статусы и балансы
   - История операций
   - Интерфейс для ручного управления операциями

2. **Управление перехватом SMS**
   - Мониторинг перехваченных кодов
   - Статусы подтверждений
   - Ручное добавление кодов
   - Автоматическое подтверждение операций

3. **Статистика и аналитика ATS**
   - Успешность операций по банкам
   - Анализ причин отказов
   - Графики объемов операций
   - Оптимизация стратегий на основе истории

### Этап 6: Безопасность и UX (3 дня)

1. **Система аутентификации и авторизации**
   - Многофакторная аутентификация
   - Разделение ролей и прав доступа
   - Аудит действий пользователей
   - Шифрование данных

2. **UX и дизайн-система**
   - Темная/светлая тема
   - Адаптивный дизайн для разных устройств
   - Интерактивные помощники и подсказки
   - Система уведомлений

3. **Оптимизация производительности**
   - Кэширование и ленивая загрузка
   - Виртуализация списков для больших наборов данных
   - Оптимизация запросов к API
   - Прогрессивная загрузка

## Технические спецификации

### Frontend-архитектура

```
src/
├── app/
│   ├── store.ts         # Redux store configuration
│   ├── api/             # API services (RTK Query)
│   └── hooks/           # Custom hooks
├── components/
│   ├── common/          # Reusable components
│   ├── layout/          # Layout components
│   └── specific/        # Domain-specific components
├── features/
│   ├── auth/            # Authentication feature
│   ├── zonds/           # Zonds management feature
│   ├── tasks/           # Tasks management feature
│   ├── c1brain/         # C1Brain integration feature
│   └── ats/             # ATS module feature
├── pages/               # Application pages
├── services/            # Service layer
├── utils/               # Utility functions
└── types/               # TypeScript type definitions
```

### Backend API Endpoints

1. **Зонды**
   - GET `/api/zonds` - список всех зондов
   - GET `/api/zonds/:id` - детальная информация о зонде
   - POST `/api/zonds/:id/command` - отправка команды зонду
   - GET `/api/zonds/:id/tasks` - задачи зонда
   - GET `/api/zonds/:id/stats` - статистика зонда

2. **Задачи**
   - GET `/api/tasks` - список всех задач
   - GET `/api/tasks/:id` - детальная информация о задаче
   - POST `/api/tasks` - создание новой задачи
   - DELETE `/api/tasks/:id` - отмена задачи
   - GET `/api/tasks/templates` - шаблоны задач

3. **C1Brain**
   - GET `/api/c1brain/status` - статус C1Brain
   - POST `/api/c1brain/think` - запрос на анализ ситуации
   - PUT `/api/c1brain/config` - обновление настроек
   - GET `/api/c1brain/logs` - логи работы
   - GET `/api/c1brain/performance` - метрики производительности

4. **ATS**
   - GET `/api/ats/banks` - список поддерживаемых банков
   - GET `/api/ats/sessions` - активные банковские сессии
   - POST `/api/ats/login` - вход в банковский аккаунт
   - POST `/api/ats/drain` - дрейн средств с аккаунта
   - POST `/api/ats/sms` - добавление перехваченного SMS-кода
   - GET `/api/ats/stats` - статистика операций

5. **WebSocket**
   - `/ws/zonds` - обновления статусов зондов
   - `/ws/tasks` - обновления статусов задач
   - `/ws/ats` - обновления банковских операций
   - `/ws/c1brain` - решения и рекомендации C1Brain

### Макеты ключевых экранов

1. **Главный дашборд**
   - Карта сети зондов (с группировкой и фильтрацией)
   - Сводная статистика (активные зонды, выполняемые задачи, успешность)
   - Последние события и алерты
   - Быстрые действия (создание задачи, поиск зонда)

2. **Панель управления зондами**
   - Список зондов с основной информацией
   - Фильтры по статусу, типу, возможностям
   - Детальная информация о выбранном зонде
   - Интерфейс отправки команд

3. **Панель управления ATS**
   - Список банковских аккаунтов и сессий
   - Статусы операций и балансы
   - Интерфейс перехвата SMS
   - Кнопки для запуска массового дрейна

4. **Интерфейс C1Brain**
   - Режимы мышления и настройки
   - История анализов и рекомендаций
   - Интерфейс для задания специфичных запросов
   - Визуализация связей и зависимостей

## Дорожная карта внедрения

1. **Неделя 1-2:** Базовая архитектура и панель мониторинга зондов
2. **Неделя 3-4:** Система управления задачами и интеграция с C1Brain
3. **Неделя 5-6:** Интеграция с ATS-модулем и улучшение безопасности
4. **Неделя 7-8:** Тестирование, оптимизация и финальный релиз

## Технические требования

1. **Производительность**
   - Отображение до 1000 зондов без замедления
   - Обновление статусов в реальном времени (< 2 секунды)
   - Загрузка страницы < 3 секунды

2. **Безопасность**
   - Шифрование всех коммуникаций (TLS 1.3)
   - Стойкая аутентификация (включая 2FA)
   - Подробное логирование всех действий

3. **Совместимость**
   - Современные браузеры (Chrome, Firefox, Edge)
   - Поддержка мобильных устройств
   - Отказоустойчивость при потере соединения

## Заключение

Данный план представляет собой полную переработку админ-панели NeuroRAT с учетом новой двухуровневой архитектуры и всех модулей системы. Реализация этого плана позволит создать современный, эффективный и безопасный интерфейс для управления всей инфраструктурой ботнета, включая зонды, задачи, C1Brain и ATS-модуль.
