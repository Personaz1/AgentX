version: '3'

services:
  # C2 сервер для управления
  neurorat-server:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: neurorat-server
    command: python server_api.py
    ports:
      - "8080:8080"  # Веб-интерфейс
      - "5001:5000"  # API порт (мапинг внешнего 5001 на внутренний 5000)
    networks:
      - neurorat-network
    environment:
      - NODE_ROLE=server
      - LOG_LEVEL=INFO

# Создаем изолированную сеть для наших контейнеров
networks:
  neurorat-network:
    driver: bridge 